

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Installation &mdash; DI-drive 0.3.4 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Tutorial" href="../tutorial/index.html" />
    <link rel="prev" title="DI-drive Documentation" href="../index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> DI-drive
          

          
          </a>

          
            
            
              <div class="version">
                0.3.4
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="#get-and-install-di-drive">Get and install DI-drive</a></li>
<li class="toctree-l2"><a class="reference internal" href="#additional-installation-for-carla">Additional Installation for Carla</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#download-and-install-carla-python-api">Download and install Carla Python API</a></li>
<li class="toctree-l3"><a class="reference internal" href="#run-carla-server">Run Carla server</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html">Tutorial</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../features/index.html">Features</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../model_zoo/index.html">Model Zoo</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api_doc/index.html">API Doc</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../faq/index.html">FAQ</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">DI-drive</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Installation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/installation/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <section id="installation">
<h1>Installation<a class="headerlink" href="#installation" title="Permalink to this heading">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
<section id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this heading">¶</a></h2>
<p>System version:</p>
<blockquote>
<div><ul class="simple">
<li><p>Ubuntu 16.04, 18.04</p></li>
<li><p>Windows 10</p></li>
</ul>
</div></blockquote>
<p>Python version: 3.6, 3.7</p>
<p>PyTorch version: &gt;=1.4, &lt;=1.8</p>
<p>DI-engine version: &gt;=0.3.1</p>
<p>Hardware requirements: NVIDIA GPU with at least 4GB memory <em>if you with to run Carla server</em></p>
</section>
<section id="get-and-install-di-drive">
<h2>Get and install DI-drive<a class="headerlink" href="#get-and-install-di-drive" title="Permalink to this heading">¶</a></h2>
<p>First get and download the official repository with the following command line.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git clone https://github.com/opendilab/DI-drive.git
</pre></div>
</div>
<p>You can also look up tags and checkout corresponding historical version.</p>
<p>Install DI-drive</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># install for use</span>
<span class="c1"># Note: use `--user` option to install the related packages in the user own directory(e.g.: ~/.local)</span>
pip install . --user

<span class="c1"># install for development(if you want to modify DI-drive)</span>
pip install -e . --user

<span class="c1"># install for automatically add MetaDrive simulator</span>
pip install <span class="s1">&#39;.[metadrive]&#39;</span> --user
</pre></div>
</div>
<p>DI-drive uses <strong>DI-engine</strong> —— distributed Reinforcement Learning system to train and evaluate RL agent.
If any questions raised when install DI-engine, please follow
<a class="reference external" href="https://opendilab.github.io/DI-engine/installation/index.html">DI-engine installation</a> for help.
Or try to install manually via PyPI:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip install di-engine --user
</pre></div>
</div>
<p>DI-drive supports both <strong>Carla</strong> and <strong>MetaDrive</strong>. If you want to use Carla, refer to the next section.
If you want to use MetaDrive, you can install DI-drive like above, or manually install via <code class="docutils literal notranslate"><span class="pre">pip</span></code>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip install metadrive-simulator --user
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You can configure the simulator used by DI-drive in <code class="docutils literal notranslate"><span class="pre">core/__init__.py</span></code> .
Only related modules will be imported in each file. By default all simulators are used.</p>
</div>
</section>
<section id="additional-installation-for-carla">
<h2>Additional Installation for Carla<a class="headerlink" href="#additional-installation-for-carla" title="Permalink to this heading">¶</a></h2>
<section id="download-and-install-carla-python-api">
<h3>Download and install Carla Python API<a class="headerlink" href="#download-and-install-carla-python-api" title="Permalink to this heading">¶</a></h3>
<p>DI-drive uses Carla simulator version higher than 0.9.9. It is needed to install Carla Python API from their released pack.
If you have any problem dealing with Carla, we record some common problem you may meet in the
<a class="reference external" href="../faq/index.html">FAQ</a> page.</p>
<ul class="simple">
<li><p>download Carla released pack</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>wget https://carla-releases.s3.eu-west-3.amazonaws.com/Linux/CARLA_0.9.10.1.tar.gz
mkdir carla_0910
tar -xvzf CARLA_0.9.10.1.tar.gz -C carla_0910
</pre></div>
</div>
<ul class="simple">
<li><p>install Carla Python API</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># install compiled Carla 0910 python api, then you can import Carla in python scripts</span>
<span class="nb">cd</span> PythonAPI/carla/dist
easy_install --user carla-0.9.10-py3.7-linux-x86_64.egg
</pre></div>
</div>
<ul class="simple">
<li><p>check import</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python -c <span class="s1">&#39;import carla&#39;</span>
</pre></div>
</div>
<p>Then everything will be ok if no error raised.</p>
</section>
<section id="run-carla-server">
<h3>Run Carla server<a class="headerlink" href="#run-carla-server" title="Permalink to this heading">¶</a></h3>
<p>To use Carla simulator you need to run a Carla server and use its IP host and port to connect to it.</p>
<ul class="simple">
<li><p>run a Carla server</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> carla_099
<span class="c1"># Ubuntu</span>
./CarlaUE4.sh --carla-world-port<span class="o">=</span>N
<span class="c1"># Windows</span>
CarlaUE4.exe --carla-world-port<span class="o">=</span>N
</pre></div>
</div>
<p><em>N</em> is the rpc port of Carla server, the default data port is <em>N + 1</em>.
You will see:</p>
<img alt="installation_1" src="../_images/installation_1.png" />
<p>You can check whether Carla server is running or not:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>lsof -i:N
</pre></div>
</div>
<p>If running successfully, you will see:</p>
<img alt="installation_2" src="../_images/installation_2.png" />
<p>Now you can use DI-drive to run code under this server.</p>
</section>
</section>
</section>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../tutorial/index.html" class="btn btn-neutral float-right" title="Tutorial" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../index.html" class="btn btn-neutral float-left" title="DI-drive Documentation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2021, OpenDILab

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>