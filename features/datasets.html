

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Datasets &mdash; DI-drive 0.3.4 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Carla Benchmark Evaluation" href="carla_benchmark.html" />
    <link rel="prev" title="Visualization" href="visualize.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> DI-drive
          

          
          </a>

          
            
            
              <div class="version">
                0.3.4
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../installation/index.html">Installation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html">Tutorial</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Features</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="simulator_feature.html">Carla Simulator Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="policy_feature.html">Policy Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="visualize.html">Visualization</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Datasets</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#benchmark-datasets">Benchmark Datasets</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#general-structure">General structure</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dataset-metadata">Dataset metadata</a></li>
<li class="toctree-l4"><a class="reference internal" href="#episode-metadata">Episode metadata</a></li>
<li class="toctree-l4"><a class="reference internal" href="#sensor-data">Sensor data</a></li>
<li class="toctree-l4"><a class="reference internal" href="#measurements">Measurements</a></li>
<li class="toctree-l4"><a class="reference internal" href="#others">Others</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="carla_benchmark.html">Carla Benchmark Evaluation</a></li>
<li class="toctree-l2"><a class="reference internal" href="casezoo.html">Carla Scenario and Casezoo Evaluation</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../model_zoo/index.html">Model Zoo</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api_doc/index.html">API Doc</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../faq/index.html">FAQ</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">DI-drive</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Features</a> &raquo;</li>
        
      <li>Datasets</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/features/datasets.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <section id="datasets">
<h1>Datasets<a class="headerlink" href="#datasets" title="Permalink to this heading">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
<section id="benchmark-datasets">
<h2>Benchmark Datasets<a class="headerlink" href="#benchmark-datasets" title="Permalink to this heading">¶</a></h2>
<p>DI-drive defines a unified benchmark dataset format that makes data collection and loading procedure easily for users.
It is suggested to save datasets with <code class="xref py py-class docutils literal notranslate"><span class="pre">BenchmarkDatasetSaver</span></code>.
It can automatically create folders and save all sensor data and measurements into datasets as desired form.</p>
<section id="general-structure">
<h3>General structure<a class="headerlink" href="#general-structure" title="Permalink to this heading">¶</a></h3>
<p>A dataset directory should look like the structure below. The following sections
will explain each one of the components described.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&lt;dataset_name&gt;
│   dataset_metadata.json
│
└───episode_00000
│   │   episode_metadata.json
│   │   &lt;Camera1_name&gt;_00000.png
│   │   ...
│   │   &lt;Camera2_name&gt;_00000.png
│   │   ...
│   │   &lt;Lidar_name&gt;_00000.png
│   │   ...
│   │   measurements_00000.lmdb
│   │   ...
└───episode_00001
    │   ...
    │
    ...
</pre></div>
</div>
<p>A dataset contains dataset metadata, episode metadata, sensor data and measurements.</p>
</section>
<section id="dataset-metadata">
<h3>Dataset metadata<a class="headerlink" href="#dataset-metadata" title="Permalink to this heading">¶</a></h3>
<p>Each dataset contains a metadata file with information provided by user.
It may have the following contents:</p>
<ul class="simple">
<li><p>Number of episodes</p></li>
<li><p>Collected suite</p></li>
<li><p>Obs image types and names</p></li>
</ul>
</section>
<section id="episode-metadata">
<h3>Episode metadata<a class="headerlink" href="#episode-metadata" title="Permalink to this heading">¶</a></h3>
<p>Each episode is stored in a folder.
For each collected episode we generate a json file containing
its general aspects that are:</p>
<ul class="simple">
<li><p>Town map name.</p></li>
<li><p>Start and end waypoint indexes</p></li>
<li><p>Number of Pedestrians: the total number of spawned pedestrians.</p></li>
<li><p>Number of Vehicles: the total number of spawned vehicles.</p></li>
<li><p>Spawned seed for pedestrians and vehicles: the random seed used for the CARLA object spawning process.</p></li>
<li><p>Weather: the weather of the episode.</p></li>
</ul>
<p>Each episode lasts from 1-5 minutes
partitioned in simulation steps of 100 ms.
For each step, we store data divided
into two different categories, sensor data
stored as PNG images, and measurement data stored as json files.</p>
</section>
<section id="sensor-data">
<h3>Sensor data<a class="headerlink" href="#sensor-data" title="Permalink to this heading">¶</a></h3>
<p>All images collected are stored as png files. The name consists of its tag in observation configurations
and the frame number.</p>
</section>
<section id="measurements">
<h3>Measurements<a class="headerlink" href="#measurements" title="Permalink to this heading">¶</a></h3>
<p>Measurements represent all the float data collected for each simulation
step. Each measurement arranges its content in a fixed order,
and stores them in a .lmdb file. The content is shown follow:</p>
<ul class="simple">
<li><p>tick (int)</p></li>
<li><p>timestamp (float)</p></li>
<li><p>forward_vector (2D)</p></li>
<li><p>acceleration (3D)</p></li>
<li><p>location (3D)</p></li>
<li><p>speed (float)</p></li>
<li><p>command (int)</p></li>
<li><p>steer (float)</p></li>
<li><p>throttle (float)</p></li>
<li><p>brake (float)</p></li>
<li><p>real_steer (float)</p></li>
<li><p>real_throttle (float)</p></li>
<li><p>real_brake (float)</p></li>
<li><p>tl_state (int)</p></li>
<li><p>tl_dis (float)</p></li>
</ul>
<p>Their meaning is the same as the observation returned in <a class="reference internal" href="../api_doc/envs.html#core.envs.SimpleCarlaEnv" title="core.envs.simple_carla_env.SimpleCarlaEnv"><code class="xref py py-class docutils literal notranslate"><span class="pre">SimpleCarlaEnv</span></code></a></p>
</section>
<section id="others">
<h3>Others<a class="headerlink" href="#others" title="Permalink to this heading">¶</a></h3>
<p>It is allowed to add user customized data into datasets. The data can be post-processed and stored in an ‘other’ key,
with no effect to measurements. Users can organize their necessary information into datasets freely.</p>
</section>
</section>
</section>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="carla_benchmark.html" class="btn btn-neutral float-right" title="Carla Benchmark Evaluation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="visualize.html" class="btn btn-neutral float-left" title="Visualization" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2021, OpenDILab

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>